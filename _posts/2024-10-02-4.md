---
layout: post
title:  "7장 상관과 회귀"
date:   2024-10-02
categories: Khuda 통계101
---
# 7.1 양적 변수 사이의 관계를 밝히다

2개 변수 사이의 관계성을 **상관**이라 한다.

**회귀**란 함수를 통해 변수 사이의 관계를 공식화하는 것을 가리킨다.

# 7.2 상관관계

양적 변수 간 관계의 강도를 정량화하는 방법에는 **피어슨 상관계수 r**를 사용한다.

-1≤r≤1의 범위를 갖는다.

데이터의 x축, y축 중 적어도 하나 이상에 정규성이 없을 때는, 비모수 상관계수인 **스피어만 순위상관계수** 사용이 권장된다.

상관관계를 계산할 때 2개 변수가 처음부터 종속 관계일 때는 주의가 필요하다. 따라서 x축과 y축의 값이 개별 변수일 것 그리고 나눗셈 등으로 변환하지 않았을 것을 사전에 확인하도록 하자.

- 상관계수의 가설검정

가설검정을 시행한 결과 p<0.05임을 알고 나서 비로소 양의 상관이 있다고 주장 가능하다. 

표본크기 n이 무척 클 때는 가설검정의 결과 해석에 주의해야 한다.가설 검정엣는 표본크기 n이 클수록 모집단이 귀무가설에서 아주 조금만 어긋나더라도 p값이 작아져 통계적으로 유의미하게 판단된다. 그러므로 p<0.05라고 해서 곧바로 상관이 있다고 판단하는 것이 아니라 r값 자체에 눈을 돌려 그 크기를 해석할 필요가 있다. 

# 7.3 선형회귀

회귀식 f(x)의 형태를 결정하는 파라미터 a,b를 **회귀계수**라 한다. 

특정 평가기준에 따라 회귀의 “좋음(적합도)’을 평가하고, 이 회귀계수의 값을 구체적으로 구하는 것이 회귀분석의 큰 흐름이다. 

데이터와 모형 차이의 제곱을 모두 더한 값을 최소화하는 방법을 **최소제곱법**이라 한다.  어떻게 하더라도 회귀직선이 모든 데이터 점을 통과할 수는 없다. 회귀모형에서는 이를 확률오차라 한다. 

최소제곱법으로 얻은 추정량은 비편향추정량 중에서도 가장 정밀도가 높은 비편향추정량이 된다. 이를 **최량선형비편향추정량**이라 한다. 

회귀계수를 대상으로 가설검정을 시행할 수도 있다. 모집단의 회귀계수를 추정하면 **신뢰구간**을 얻을 수 있다. 추정한 회귀모형을 기반으로 데이터 그 자체가 분포하는 구간을 그릴 수 있는데, 이를 **예측구간**이라 한다. 

![Untitled](/assets/HW1/hh21.png)

회귀식이 잘 들어맞는지 평가하는 지표는 결정계수R^2 을 사용한다. 

등분산성을 확인하려면 설명변수 x가 변할 때 잔차의 분산이 달라지는지를 조사하는 **브루쉬-페이건 검정**을 이용한다. 

- 설명변수와 반응변수

무엇을 설명변수로, 반응변수로 할것인가를 목적에 맞게 생각해야 한다. 

1. 한쪽 변수로 다른 한쪽 변수를 설명하고자 할 때
2. 인과효과를 알고 싶을 때
3. 데이터를 예측하고 싶을 때